[{"/Users/yuyili/Development/travel-app-explor/client/src/index.js":"1","/Users/yuyili/Development/travel-app-explor/client/src/App.js":"2","/Users/yuyili/Development/travel-app-explor/client/src/components/Header/Header.jsx":"3","/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/SignUp.jsx":"4","/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/Login.jsx":"5","/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/HeaderNonUser.jsx":"6","/Users/yuyili/Development/travel-app-explor/client/src/components/Map/Map.jsx":"7","/Users/yuyili/Development/travel-app-explor/client/src/components/List/List.jsx":"8","/Users/yuyili/Development/travel-app-explor/client/src/api/index.js":"9","/Users/yuyili/Development/travel-app-explor/client/src/components/Map/styles.js":"10","/Users/yuyili/Development/travel-app-explor/client/src/components/List/styles.js":"11","/Users/yuyili/Development/travel-app-explor/client/src/components/Map/mapStyles.js":"12","/Users/yuyili/Development/travel-app-explor/client/src/components/Header/styles.js":"13","/Users/yuyili/Development/travel-app-explor/client/src/components/PlaceDetails/PlaceDetails.jsx":"14","/Users/yuyili/Development/travel-app-explor/client/src/components/PlaceDetails/styles.js":"15","/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/styles.js":"16","/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/PlacesContainer.jsx":"17","/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/PlacesCard.jsx":"18","/Users/yuyili/Development/travel-app-explor/client/src/components/Header/PlacesHeader.jsx":"19","/Users/yuyili/Development/travel-app-explor/client/src/components/Header/stylesPlaces.js":"20","/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/styles.js":"21"},{"size":241,"mtime":1642100163807,"results":"22","hashOfConfig":"23"},{"size":4093,"mtime":1642109362607,"results":"24","hashOfConfig":"23"},{"size":2237,"mtime":1642109361807,"results":"25","hashOfConfig":"23"},{"size":9432,"mtime":1642099440392,"results":"26","hashOfConfig":"23"},{"size":5281,"mtime":1642097021599,"results":"27","hashOfConfig":"23"},{"size":661,"mtime":1642098265807,"results":"28","hashOfConfig":"23"},{"size":1890,"mtime":1642091223315,"results":"29","hashOfConfig":"23"},{"size":2287,"mtime":1642107248021,"results":"30","hashOfConfig":"23"},{"size":625,"mtime":1642091223311,"results":"31","hashOfConfig":"23"},{"size":473,"mtime":1642091223315,"results":"32","hashOfConfig":"23"},{"size":516,"mtime":1642531887419,"results":"33","hashOfConfig":"23"},{"size":4437,"mtime":1642091223315,"results":"34","hashOfConfig":"23"},{"size":1843,"mtime":1642100763856,"results":"35","hashOfConfig":"23"},{"size":4204,"mtime":1642542226864,"results":"36","hashOfConfig":"23"},{"size":368,"mtime":1642091223316,"results":"37","hashOfConfig":"23"},{"size":1231,"mtime":1642098051172,"results":"38","hashOfConfig":"23"},{"size":2763,"mtime":1642544448751,"results":"39","hashOfConfig":"23"},{"size":1347,"mtime":1642542885865,"results":"40","hashOfConfig":"23"},{"size":1044,"mtime":1642109328314,"results":"41","hashOfConfig":"23"},{"size":698,"mtime":1642108389989,"results":"42","hashOfConfig":"23"},{"size":470,"mtime":1642533923094,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"kpan2h",{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"56"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/yuyili/Development/travel-app-explor/client/src/index.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/App.js",["90"],"import React, { useEffect, useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { CssBaseline, Grid } from \"@material-ui/core\";\n\nimport { getPlacesData } from \"./api\";\n\nimport Header from \"./components/Header/Header\";\nimport HeaderNonUser from \"./components/Landing/HeaderNonUser\";\nimport PlacesHeader from \"./components/Header/PlacesHeader\";\nimport List from \"./components/List/List\";\nimport Map from \"./components/Map/Map\";\nimport SignUp from \"./components/Landing/SignUp\";\nimport Login from \"./components/Landing/Login\";\nimport PlacesContainer from \"./components/PlacesList/PlacesContainer\";\n\n// import \"./index.css\";\n\nconst App = () => {\n  const [user, setUser] = useState(null);\n  const [places, setPlaces] = useState([]);\n  const [savedPlaces, setSavedPlaces] = useState([]);\n  const [filteredPlaces, setFilteredPlaces] = useState([]);\n  const [coordinates, setCoordinates] = useState({});\n  const [bounds, setBounds] = useState({});\n  const [childClicked, setChildClicked] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [type, setType] = useState(\"restaurants\");\n  const [rating, setRating] = useState(\"\");\n\n  useEffect(() => {\n    fetch(\"/me\").then((r) => {\n      if (r.ok) {\n        r.json().then((foundUser) => {\n          setUser(foundUser);\n        });\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(\n      ({ coords: { latitude, longitude } }) => {\n        setCoordinates({ lat: latitude, lng: longitude });\n      }\n    );\n  }, []);\n\n  useEffect(() => {\n    const filteredPlaces = places.filter((place) => {\n      return place.rating > rating;\n    });\n    setFilteredPlaces(filteredPlaces);\n  }, [rating]);\n\n  useEffect(() => {\n    if (bounds.sw && bounds.ne) {\n      setIsLoading(true);\n      getPlacesData(type, bounds.sw, bounds.ne).then((data) => {\n        setPlaces(data?.filter((place) => place.name && place.num_reviews > 0));\n        setFilteredPlaces([]);\n        setIsLoading(false);\n      });\n    }\n  }, [type, bounds]);\n\n  // console.log(coordinates);\n  // console.log(bounds.sw);\n\n  const handleDelete = (deletedSavedPlace) => {\n    setSavedPlaces(\n      savedPlaces.filter((savedPlace) => {\n        console.log(deletedSavedPlace);\n        return savedPlace !== deletedSavedPlace;\n      })\n    );\n  };\n\n  if (user) {\n    return (\n      <>\n        <CssBaseline />\n\n        <Switch>\n          <Route exact path=\"/\">\n            <Header setCoordinates={setCoordinates} setUser={setUser} />\n            <Grid container spacing={3} style={{ width: \"100%\" }}>\n              <Grid item xs={12} md={4}>\n                <List\n                  places={filteredPlaces.length ? filteredPlaces : places}\n                  childClicked={childClicked}\n                  isLoading={isLoading}\n                  type={type}\n                  setType={setType}\n                  rating={rating}\n                  setRating={setRating}\n                  user={user}\n                />\n              </Grid>\n\n              <Grid item xs={12} md={8}>\n                <Map\n                  setCoordinates={setCoordinates}\n                  setBounds={setBounds}\n                  coordinates={coordinates}\n                  places={filteredPlaces.length ? filteredPlaces : places}\n                  setChildClicked={setChildClicked}\n                />\n              </Grid>\n            </Grid>\n          </Route>\n\n          <Route exact path=\"/myplaces\">\n            <PlacesHeader setUser={setUser} />\n            <PlacesContainer\n              savedPlaces={savedPlaces}\n              setSavedPlaces={setSavedPlaces}\n              handleDelete={handleDelete}\n            />\n          </Route>\n        </Switch>\n      </>\n    );\n  } else {\n    return (\n      <div className=\"app\">\n        <HeaderNonUser />\n        <Switch>\n          <Route exact path=\"/signup\">\n            <SignUp setUser={setUser} />\n          </Route>\n          <Route exact path=\"/\">\n            <Login setUser={setUser} />\n          </Route>\n        </Switch>\n      </div>\n    );\n  }\n};\n\nexport default App;\n","/Users/yuyili/Development/travel-app-explor/client/src/components/Header/Header.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/SignUp.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/Login.jsx",["91"],"import * as React from \"react\";\nimport { useState } from \"react\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Button from \"@mui/material/Button\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport TextField from \"@mui/material/TextField\";\nimport Link from \"@mui/material/Link\";\nimport Paper from \"@mui/material/Paper\";\nimport Box from \"@mui/material/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\nimport Typography from \"@mui/material/Typography\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport Image from \"./map.jpg\";\n\nconst Login = ({ setUser }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [emailValid, setEmailValid] = useState(true);\n\n  const checkEmail = () => {\n    if (\n      String(email)\n        .toLowerCase()\n        .match(\n          /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n        )\n    ) {\n      setEmailValid(true);\n      return emailValid;\n    } else {\n      setEmailValid((emailValid) => !emailValid);\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    checkEmail();\n    const user = {\n      email,\n      password,\n    };\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(user),\n    }).then((res) => {\n      if (res.ok) {\n        res.json().then((data) => setUser(data));\n      } else {\n        res.json().then((errors) => console.log(errors));\n      }\n    });\n\n    setEmail(\"\");\n    setPassword(\"\");\n    e.target.reset();\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Grid container component=\"main\" sx={{ height: \"100vh\" }}>\n        <CssBaseline />\n        <Grid\n          item\n          xs={false}\n          sm={4}\n          md={6}\n          sx={{\n            backgroundImage: `url(${Image})`,\n            backgroundRepeat: \"no-repeat\",\n            backgroundColor: (t) =>\n              t.palette.mode === \"light\"\n                ? t.palette.grey[50]\n                : t.palette.grey[900],\n            backgroundSize: \"cover\",\n            backgroundPosition: \"center\",\n          }}\n        />\n\n        <Grid item xs={12} sm={8} md={6} component={Paper} elevation={6} square>\n          <Box\n            sx={{\n              my: 8,\n              mx: 4,\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n            }}\n          >\n            <Avatar sx={{ m: 1, bgcolor: \"primary.main\" }}>\n              <LockOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n              Sign in\n            </Typography>\n            <Box\n              component=\"form\"\n              onSubmit={handleSubmit}\n              noValidate\n              sx={{ mt: 1 }}\n            >\n              {emailValid ? (\n                <TextField\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  autoFocus\n                  type=\"text\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                />\n              ) : (\n                <TextField\n                  error\n                  required\n                  fullWidth\n                  id=\"filled-error-helper-text\"\n                  label=\"Email Address\"\n                  helperText=\"Must be a valid email containing '@'\"\n                  variant=\"filled\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                />\n              )}\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                sx={{ mt: 3, mb: 2 }}\n              >\n                Sign In\n              </Button>\n\n              <Grid container justifyContent=\"flex-end\">\n                <Grid item>\n                  <Link href=\"/signup\" variant=\"body2\">\n                    Don't have an account? Sign Up\n                  </Link>\n                </Grid>\n              </Grid>\n              <Copyright sx={{ mt: 5 }} />\n            </Box>\n          </Box>\n        </Grid>\n      </Grid>\n    </ThemeProvider>\n  );\n};\n\nconst Copyright = (props) => {\n  return (\n    <Typography\n      variant=\"body2\"\n      color=\"text.secondary\"\n      align=\"center\"\n      {...props}\n    >\n      {\"Copyright © \"}\n      <Link color=\"inherit\" href=\"/\">\n        Explor\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n};\n\nconst theme = createTheme();\n\nexport default Login;\n",["92","93"],"/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/HeaderNonUser.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Map/Map.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/List/List.jsx",["94"],"import React, { useState, useEffect, createRef } from \"react\";\nimport {\n  CircularProgress,\n  Grid,\n  Typography,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  Select,\n} from \"@material-ui/core\";\n\nimport PlaceDetails from \"../PlaceDetails/PlaceDetails\";\n\nimport useStyles from \"./styles\";\n\nconst List = ({\n  places,\n  childClicked,\n  isLoading,\n  type,\n  setType,\n  rating,\n  setRating,\n  user,\n}) => {\n  const classes = useStyles();\n  const [elRefs, setElRefs] = useState([]);\n\n  // console.log({ childClicked });\n\n  useEffect(() => {\n    const refs = Array(places?.length)\n      .fill()\n      .map((_, i) => elRefs[i] || createRef());\n    setElRefs(refs);\n  }, [places]);\n\n  // console.log(elRefs);\n\n  return (\n    <div className={classes.container}>\n      <Typography variant=\"h4\">\n        Restaurants, Hotels, and Attractions around you\n      </Typography>\n\n      {isLoading ? (\n        <div className={classes.loading}>\n          <CircularProgress size=\"5rem\" />\n        </div>\n      ) : (\n        <>\n          <FormControl className={classes.formControl}>\n            <InputLabel>Type</InputLabel>\n            <Select value={type} onChange={(e) => setType(e.target.value)}>\n              <MenuItem value=\"restaurants\">Restaurants</MenuItem>\n              <MenuItem value=\"hotels\">Hotels</MenuItem>\n              <MenuItem value=\"attractions\">Attractions</MenuItem>\n            </Select>\n          </FormControl>\n          <FormControl className={classes.formControl}>\n            <InputLabel>Rating</InputLabel>\n            <Select value={rating} onChange={(e) => setRating(e.target.value)}>\n              <MenuItem value={0}>All</MenuItem>\n              <MenuItem value={3}>Above 3.0</MenuItem>\n              <MenuItem value={4}>Above 4.0</MenuItem>\n            </Select>\n          </FormControl>\n          <Grid container spacing={3} className={classes.list}>\n            {places?.map((place, i) => (\n              <Grid ref={elRefs[i]} key={i} item xs={12}>\n                <PlaceDetails\n                  selected={Number(childClicked) === i}\n                  refProp={elRefs[i]}\n                  place={place}\n                  user={user}\n                />\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default List;\n","/Users/yuyili/Development/travel-app-explor/client/src/api/index.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Map/styles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/List/styles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Map/mapStyles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Header/styles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/PlaceDetails/PlaceDetails.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/PlaceDetails/styles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/styles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/PlacesContainer.jsx",["95"],"/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/PlacesCard.jsx",["96"],"/Users/yuyili/Development/travel-app-explor/client/src/components/Header/PlacesHeader.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Header/stylesPlaces.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/styles.js",[],{"ruleId":"97","severity":1,"message":"98","line":54,"column":6,"nodeType":"99","endLine":54,"endColumn":14,"suggestions":"100"},{"ruleId":"101","severity":1,"message":"102","line":139,"column":17,"nodeType":"103","messageId":"104","endLine":139,"endColumn":32},{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","replacedBy":"108"},{"ruleId":"97","severity":1,"message":"109","line":36,"column":6,"nodeType":"99","endLine":36,"endColumn":14,"suggestions":"110"},{"ruleId":"97","severity":1,"message":"111","line":38,"column":6,"nodeType":"99","endLine":38,"endColumn":8,"suggestions":"112"},{"ruleId":"113","severity":1,"message":"114","line":14,"column":9,"nodeType":"115","messageId":"116","endLine":14,"endColumn":16},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'places'. Either include it or remove the dependency array.","ArrayExpression",["117"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","noDuplicateProps","no-native-reassign",["118"],"no-negated-in-lhs",["119"],"React Hook useEffect has a missing dependency: 'elRefs'. Either include it or remove the dependency array.",["120"],"React Hook useEffect has a missing dependency: 'setSavedPlaces'. Either include it or remove the dependency array. If 'setSavedPlaces' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["121"],"no-unused-vars","'classes' is assigned a value but never used.","Identifier","unusedVar",{"desc":"122","fix":"123"},"no-global-assign","no-unsafe-negation",{"desc":"124","fix":"125"},{"desc":"126","fix":"127"},"Update the dependencies array to be: [places, rating]",{"range":"128","text":"129"},"Update the dependencies array to be: [elRefs, places]",{"range":"130","text":"131"},"Update the dependencies array to be: [setSavedPlaces]",{"range":"132","text":"133"},[1716,1724],"[places, rating]",[660,668],"[elRefs, places]",[1003,1005],"[setSavedPlaces]"]