[{"/Users/yuyili/Development/travel-app-explor/client/src/index.js":"1","/Users/yuyili/Development/travel-app-explor/client/src/App.js":"2","/Users/yuyili/Development/travel-app-explor/client/src/components/Header/Header.jsx":"3","/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/SignUp.jsx":"4","/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/Login.jsx":"5","/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/HeaderNonUser.jsx":"6","/Users/yuyili/Development/travel-app-explor/client/src/components/Map/Map.jsx":"7","/Users/yuyili/Development/travel-app-explor/client/src/components/List/List.jsx":"8","/Users/yuyili/Development/travel-app-explor/client/src/api/index.js":"9","/Users/yuyili/Development/travel-app-explor/client/src/components/Map/styles.js":"10","/Users/yuyili/Development/travel-app-explor/client/src/components/List/styles.js":"11","/Users/yuyili/Development/travel-app-explor/client/src/components/Map/mapStyles.js":"12","/Users/yuyili/Development/travel-app-explor/client/src/components/Header/styles.js":"13","/Users/yuyili/Development/travel-app-explor/client/src/components/PlaceDetails/PlaceDetails.jsx":"14","/Users/yuyili/Development/travel-app-explor/client/src/components/PlaceDetails/styles.js":"15","/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/styles.js":"16","/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/PlacesContainer.jsx":"17","/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/PlacesCard.jsx":"18","/Users/yuyili/Development/travel-app-explor/client/src/components/Header/PlacesHeader.jsx":"19","/Users/yuyili/Development/travel-app-explor/client/src/components/Header/stylesPlaces.js":"20","/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/styles.js":"21"},{"size":241,"mtime":1642100163807,"results":"22","hashOfConfig":"23"},{"size":4093,"mtime":1642109362607,"results":"24","hashOfConfig":"23"},{"size":2237,"mtime":1642109361807,"results":"25","hashOfConfig":"23"},{"size":9196,"mtime":1642715589654,"results":"26","hashOfConfig":"23"},{"size":5281,"mtime":1642698448070,"results":"27","hashOfConfig":"23"},{"size":661,"mtime":1642098265807,"results":"28","hashOfConfig":"23"},{"size":1890,"mtime":1642091223315,"results":"29","hashOfConfig":"23"},{"size":2287,"mtime":1642614562292,"results":"30","hashOfConfig":"23"},{"size":625,"mtime":1642091223311,"results":"31","hashOfConfig":"23"},{"size":473,"mtime":1642091223315,"results":"32","hashOfConfig":"23"},{"size":543,"mtime":1642614666051,"results":"33","hashOfConfig":"23"},{"size":4437,"mtime":1642091223315,"results":"34","hashOfConfig":"23"},{"size":2005,"mtime":1642615127266,"results":"35","hashOfConfig":"23"},{"size":4221,"mtime":1642545366103,"results":"36","hashOfConfig":"23"},{"size":368,"mtime":1642091223316,"results":"37","hashOfConfig":"23"},{"size":1429,"mtime":1642615165982,"results":"38","hashOfConfig":"23"},{"size":2767,"mtime":1642614321658,"results":"39","hashOfConfig":"23"},{"size":1473,"mtime":1642614459937,"results":"40","hashOfConfig":"23"},{"size":1055,"mtime":1642613935424,"results":"41","hashOfConfig":"23"},{"size":973,"mtime":1642615131519,"results":"42","hashOfConfig":"23"},{"size":470,"mtime":1642533923094,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"kpan2h",{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"46"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"46"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"46"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"/Users/yuyili/Development/travel-app-explor/client/src/index.js",[],["90","91"],"/Users/yuyili/Development/travel-app-explor/client/src/App.js",["92"],"import React, { useEffect, useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { CssBaseline, Grid } from \"@material-ui/core\";\n\nimport { getPlacesData } from \"./api\";\n\nimport Header from \"./components/Header/Header\";\nimport HeaderNonUser from \"./components/Landing/HeaderNonUser\";\nimport PlacesHeader from \"./components/Header/PlacesHeader\";\nimport List from \"./components/List/List\";\nimport Map from \"./components/Map/Map\";\nimport SignUp from \"./components/Landing/SignUp\";\nimport Login from \"./components/Landing/Login\";\nimport PlacesContainer from \"./components/PlacesList/PlacesContainer\";\n\n// import \"./index.css\";\n\nconst App = () => {\n  const [user, setUser] = useState(null);\n  const [places, setPlaces] = useState([]);\n  const [savedPlaces, setSavedPlaces] = useState([]);\n  const [filteredPlaces, setFilteredPlaces] = useState([]);\n  const [coordinates, setCoordinates] = useState({});\n  const [bounds, setBounds] = useState({});\n  const [childClicked, setChildClicked] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [type, setType] = useState(\"restaurants\");\n  const [rating, setRating] = useState(\"\");\n\n  useEffect(() => {\n    fetch(\"/me\").then((r) => {\n      if (r.ok) {\n        r.json().then((foundUser) => {\n          setUser(foundUser);\n        });\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(\n      ({ coords: { latitude, longitude } }) => {\n        setCoordinates({ lat: latitude, lng: longitude });\n      }\n    );\n  }, []);\n\n  useEffect(() => {\n    const filteredPlaces = places.filter((place) => {\n      return place.rating > rating;\n    });\n    setFilteredPlaces(filteredPlaces);\n  }, [rating]);\n\n  useEffect(() => {\n    if (bounds.sw && bounds.ne) {\n      setIsLoading(true);\n      getPlacesData(type, bounds.sw, bounds.ne).then((data) => {\n        setPlaces(data?.filter((place) => place.name && place.num_reviews > 0));\n        setFilteredPlaces([]);\n        setIsLoading(false);\n      });\n    }\n  }, [type, bounds]);\n\n  // console.log(coordinates);\n  // console.log(bounds.sw);\n\n  const handleDelete = (deletedSavedPlace) => {\n    setSavedPlaces(\n      savedPlaces.filter((savedPlace) => {\n        console.log(deletedSavedPlace);\n        return savedPlace !== deletedSavedPlace;\n      })\n    );\n  };\n\n  if (user) {\n    return (\n      <>\n        <CssBaseline />\n\n        <Switch>\n          <Route exact path=\"/\">\n            <Header setCoordinates={setCoordinates} setUser={setUser} />\n            <Grid container spacing={3} style={{ width: \"100%\" }}>\n              <Grid item xs={12} md={4}>\n                <List\n                  places={filteredPlaces.length ? filteredPlaces : places}\n                  childClicked={childClicked}\n                  isLoading={isLoading}\n                  type={type}\n                  setType={setType}\n                  rating={rating}\n                  setRating={setRating}\n                  user={user}\n                />\n              </Grid>\n\n              <Grid item xs={12} md={8}>\n                <Map\n                  setCoordinates={setCoordinates}\n                  setBounds={setBounds}\n                  coordinates={coordinates}\n                  places={filteredPlaces.length ? filteredPlaces : places}\n                  setChildClicked={setChildClicked}\n                />\n              </Grid>\n            </Grid>\n          </Route>\n\n          <Route exact path=\"/myplaces\">\n            <PlacesHeader setUser={setUser} />\n            <PlacesContainer\n              savedPlaces={savedPlaces}\n              setSavedPlaces={setSavedPlaces}\n              handleDelete={handleDelete}\n            />\n          </Route>\n        </Switch>\n      </>\n    );\n  } else {\n    return (\n      <div className=\"app\">\n        <HeaderNonUser />\n        <Switch>\n          <Route exact path=\"/signup\">\n            <SignUp setUser={setUser} />\n          </Route>\n          <Route exact path=\"/\">\n            <Login setUser={setUser} />\n          </Route>\n        </Switch>\n      </div>\n    );\n  }\n};\n\nexport default App;\n","/Users/yuyili/Development/travel-app-explor/client/src/components/Header/Header.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/SignUp.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/Login.jsx",["93"],"/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/HeaderNonUser.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Map/Map.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/List/List.jsx",["94"],"import React, { useState, useEffect, createRef } from \"react\";\nimport {\n  CircularProgress,\n  Grid,\n  Typography,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  Select,\n} from \"@material-ui/core\";\n\nimport PlaceDetails from \"../PlaceDetails/PlaceDetails\";\n\nimport useStyles from \"./styles\";\n\nconst List = ({\n  places,\n  childClicked,\n  isLoading,\n  type,\n  setType,\n  rating,\n  setRating,\n  user,\n}) => {\n  const classes = useStyles();\n  const [elRefs, setElRefs] = useState([]);\n\n  // console.log({ childClicked });\n\n  useEffect(() => {\n    const refs = Array(places?.length)\n      .fill()\n      .map((_, i) => elRefs[i] || createRef());\n    setElRefs(refs);\n  }, [places]);\n\n  // console.log(elRefs);\n\n  return (\n    <div className={classes.container}>\n      <Typography variant=\"h4\">\n        Restaurants, Hotels, and Attractions around you\n      </Typography>\n\n      {isLoading ? (\n        <div className={classes.loading}>\n          <CircularProgress size=\"5rem\" />\n        </div>\n      ) : (\n        <>\n          <FormControl className={classes.formControl}>\n            <InputLabel>Type</InputLabel>\n            <Select value={type} onChange={(e) => setType(e.target.value)}>\n              <MenuItem value=\"restaurants\">Restaurants</MenuItem>\n              <MenuItem value=\"hotels\">Hotels</MenuItem>\n              <MenuItem value=\"attractions\">Attractions</MenuItem>\n            </Select>\n          </FormControl>\n          <FormControl className={classes.formControl}>\n            <InputLabel>Rating</InputLabel>\n            <Select value={rating} onChange={(e) => setRating(e.target.value)}>\n              <MenuItem value={0}>All</MenuItem>\n              <MenuItem value={3}>Above 3.0</MenuItem>\n              <MenuItem value={4}>Above 4.0</MenuItem>\n            </Select>\n          </FormControl>\n          <Grid container spacing={3} className={classes.list}>\n            {places?.map((place, i) => (\n              <Grid ref={elRefs[i]} key={i} item xs={12}>\n                <PlaceDetails\n                  selected={Number(childClicked) === i}\n                  refProp={elRefs[i]}\n                  place={place}\n                  user={user}\n                />\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default List;\n","/Users/yuyili/Development/travel-app-explor/client/src/api/index.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Map/styles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/List/styles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Map/mapStyles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Header/styles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/PlaceDetails/PlaceDetails.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/PlaceDetails/styles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Landing/styles.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/PlacesContainer.jsx",["95"],"import { useEffect, useState } from \"react\";\nimport PlacesCard from \"./PlacesCard\";\nimport {\n  Box,\n  Typography,\n  Grid,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@material-ui/core\";\n\nimport useStyles from \"./styles\";\n\nconst PlacesContainer = ({ savedPlaces, setSavedPlaces, handleDelete }) => {\n  const [selectedCategory, setSelectedCategory] = useState(\"all\");\n  const [selectedPlace, setSelectedPlace] = useState(\"all\");\n\n  const visiblePlaces = savedPlaces\n    .filter((place) => {\n      console.log(place);\n      return selectedCategory === \"all\" || place.category === selectedCategory;\n    })\n    .filter((place) => {\n      return selectedPlace === \"all\" || place.location === selectedPlace;\n    });\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    fetch(\"/places\").then((res) => {\n      if (res.ok) {\n        res.json().then((data) => setSavedPlaces(data));\n      } else {\n        res.json().then((errors) => console.log(errors));\n      }\n    });\n  }, []);\n\n  const mapSavedPlaces = visiblePlaces.map((myPlace) => {\n    return (\n      <PlacesCard\n        key={myPlace.id}\n        id={myPlace.id}\n        myPlace={myPlace}\n        handleDelete={handleDelete}\n      />\n    );\n  });\n\n  let placeArr = savedPlaces.map((myPlace) => {\n    return myPlace.location;\n  });\n  let unique = [...new Set(placeArr)];\n  const mapUniquePlaces = unique.map((place) => {\n    return <MenuItem value={place}>{place}</MenuItem>;\n  });\n\n  return (\n    <>\n      <Box\n        container\n        noValidate\n        sx={{ mt: 3 }}\n        style={{ justifyContent: \"center\", display: \"flex\" }}\n      >\n        <FormControl className={classes.formControl}>\n          <InputLabel>Type of Place</InputLabel>\n          <Select onChange={(e) => setSelectedCategory(e.target.value)}>\n            <MenuItem value=\"all\">All</MenuItem>\n            <MenuItem value=\"restaurant\">Restaurants</MenuItem>\n            <MenuItem value=\"hotel\">Hotels</MenuItem>\n            <MenuItem value=\"attraction\">Attractions</MenuItem>\n          </Select>\n        </FormControl>\n        <FormControl className={classes.formControl}>\n          <InputLabel>Location (City)</InputLabel>\n\n          <Select onChange={(e) => setSelectedPlace(e.target.value)}>\n            <MenuItem value=\"all\">All</MenuItem>\n            {mapUniquePlaces}\n          </Select>\n        </FormControl>\n      </Box>\n\n      <Box\n        container\n        noValidate\n        sx={{ mt: 3 }}\n        style={{ justifyContent: \"center\", display: \"flex\" }}\n      >\n        <Grid item xs={6} sx={{ mt: 3 }} align=\"center\">\n          <Typography gutterBottom variant=\"h5\">\n            My Places\n          </Typography>\n          {mapSavedPlaces}\n        </Grid>\n      </Box>\n    </>\n  );\n};\n\nexport default PlacesContainer;\n","/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/PlacesCard.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Header/PlacesHeader.jsx",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/Header/stylesPlaces.js",[],"/Users/yuyili/Development/travel-app-explor/client/src/components/PlacesList/styles.js",[],{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","severity":1,"message":"101","line":54,"column":6,"nodeType":"102","endLine":54,"endColumn":14,"suggestions":"103"},{"ruleId":"104","severity":1,"message":"105","line":139,"column":17,"nodeType":"106","messageId":"107","endLine":139,"endColumn":32},{"ruleId":"100","severity":1,"message":"108","line":36,"column":6,"nodeType":"102","endLine":36,"endColumn":14,"suggestions":"109"},{"ruleId":"100","severity":1,"message":"110","line":38,"column":6,"nodeType":"102","endLine":38,"endColumn":8,"suggestions":"111"},"no-native-reassign",["112"],"no-negated-in-lhs",["113"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'places'. Either include it or remove the dependency array.","ArrayExpression",["114"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","noDuplicateProps","React Hook useEffect has a missing dependency: 'elRefs'. Either include it or remove the dependency array.",["115"],"React Hook useEffect has a missing dependency: 'setSavedPlaces'. Either include it or remove the dependency array. If 'setSavedPlaces' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["116"],"no-global-assign","no-unsafe-negation",{"desc":"117","fix":"118"},{"desc":"119","fix":"120"},{"desc":"121","fix":"122"},"Update the dependencies array to be: [places, rating]",{"range":"123","text":"124"},"Update the dependencies array to be: [elRefs, places]",{"range":"125","text":"126"},"Update the dependencies array to be: [setSavedPlaces]",{"range":"127","text":"128"},[1716,1724],"[places, rating]",[660,668],"[elRefs, places]",[985,987],"[setSavedPlaces]"]